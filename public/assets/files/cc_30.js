(function(){var n="0.2.1",t,e="undefined",a=25,r=parseInt(1e3/a),o=t,i={"function":!0,object:!0},s={DEBUG_MODE:!1,counterID:"30",instanceID:"externalConf###Instanceid"},u=function(n){return typeof n!==e},c="HISTATS_CANVAS_DEBUG_ON";s.DEBUG_MODE=u(window[c])&&1==window[c];var A=function(){return s.instanceID},l="_HistatsCounterGraphics_",f,d=function(){return l+s.counterID},g=function(n){return!("string"!=typeof n||""==n)},v=function(){try{s.DEBUG_MODE&&u(console)&&console.log.apply(this,arguments)}catch(n){}},h=function(e,a){var i=e||{};try{var c=function(n){var t="autostart";return"undefined"!=typeof n[t]&&n[t]===!0},A={ANIMATION_RUNNING_STATUS:!0,ANIMATION_STARTED:!1,AUTOSTART:c(i),_STOPPED:!1,INSTANCE_ID:"-"+parseInt(1e4*Math.random())},l=function(){return A.INSTANCE_ID},g=100,h=1,w=function(){return a.document},b=function(n){return u(n)&&!!w().getElementById(n)},p=function(n){o=a.setTimeout(n,r)},m=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.msRequestAnimationFrame||a.oRequestAnimationFrame||p,C=a["Date"]||{},B=function(n,t){for(var e in n)t.hasOwnProperty(e)&&(t[e]=n[e])};i.getInstanceID=l;var T=d();i.IS_HISTATS_CANVAS=!0,i.globalObjectName=T,i.$window=a;var I=function(n){return b(n)?w().getElementById(n):t},M={w:0,h:0,yBase:0,xBase:0,hasShadow:!1,hasLabel:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:1,doMouseOverOut:1},S={msLastFrameDrawn:0,msPerFrame:r,frameCounter:0,isInAnimationTransition:!1,animation_duration_inFrames:20,waitframesBetweenTwoAnimations:80,framesBetweenTwoAnimations:100,currentLoopFrame:0,autoTriggerTextChange_onFrame:t,customization:{}},P={domCanvasObject:null,canvas2dContext:null,canvasProperties:M},F=function(){var n={},e=n.hasOwnProperty,a=0,r=0,o={blockMessages:!1,recordMessages:!1,messageLog:[],printMessages:!1,messagePassedCount:0,subscribersCount:0,topicsCount:0,_topics:n},i=function(t){return e.call(n,t)},s=function(t){return o.printMessages&&console.log(l(),"addTopic",t),r++,o.topicsCount++,r>50&&v(l(),"Lot of topics registered!",t),n[t]=[]},u=function(t){return n[t]},c=function(t,e,r){o.printMessages&&console.log(l(),"subscribe",t,e,r),o.recordMessages&&o.messageLog.push(["subscribe",t,e,r]),r=r||g,i(t)||s(t);var c=u(t).push({callback:e,priority:e})-1;return a++,o.subscribersCount++,a>50&&v(l(),"Lot of topics registered!",t),{remove:function(){delete n[t][c]}}},A=function(n,t){var e="no-topic-found";n!=e&&f(e,{topic:n,info:t})},f=function(e,a){if(o.messagePassedCount++,o.printMessages&&console.log(l(),"publish",e,a),o.recordMessages&&o.messageLog.push(["publish",e,a]),!o.blockMessages)return i(e)?(n[e].slice().sort(function(n,t){return n.priority-t.priority}).forEach(function(n){n.callback(a!=t?a:{})}),void 0):(A(e,a),void 0)},d=function(n,t){m(function(){f(n,t)})};return{subscribe:c,publish:f,publishAsync:d,debugObj:o}}(),N=function(){return s.counterID},y=function(){var n="siteId";return i[n]=i[n]||0},O=function(){var n="main_div_name";return i[n]||"histats_counter_"+y()+"_"+N()},x=[],E=function(){return f=O(),f},k=function(){return E()+"_canvas"},D=function(){return"http://www.histats.com/viewstats/?sid="+y()+"&ccid="+N()},L=function(){a.location=D()},j=function(){if(1==P.canvasProperties.doMouseOverOut){var n=W().canvasProperties;n.yBase=2,n.xBase=2,n.shadowOffsetX=0,n.shadowOffsetY=0}W().domCanvasObject.style.cursor="pointer"},U=function(){if(1==P.canvasProperties.doMouseOverOut){var n=W().canvasProperties;n.yBase=0,n.xBase=0,n.shadowOffsetX=2,n.shadowOffsetY=2}},_=function(){var n=W(),t=n.canvasProperties,e=n.canvas2dContext;e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.shadowBlur=t.shadowBlur,e.shadowColor="rgba(0,0,0,0.2)"},G=function(){return I(E())},Q=function(){var n=!!G();return n},R=function(){try{if(!Q())return F.publish("error",{msg:"validateDomcontainer not found"}),void 0;var n=G(),t=W().canvasProperties,e='<canvas id="'+k()+'" width="'+t.w+'" height="'+t.h+'" ></canvas>',r='<a href="'+D()+'" target="_blank">'+e+"</a>";n.innerHTML=r,W().domCanvasObject=I(k());var o=W().domCanvasObject;W().canvas2dContext=o.getContext("2d"),"addEventListener"in a?(o.addEventListener("mouseover",function(){j()}),o.addEventListener("mouseout",function(){U()})):o.onclick=function(){L()}}catch(i){v(l(),"drawCanvas",i)}},H=function(){try{if(A.ANIMATION_STARTED)return;if(A._STOPPED)return;F.publish("draw-callback-requested-reconfiguration",{}),F.publish("starting_pre",{context:i}),A.ANIMATION_STARTED=!0,F.publish("started",{context:i}),F.publish("drawcanvas_pre",{context:i}),R(),F.publish("drawcanvas_post",{context:i}),Z(),F.publish("animationLoop_started",{context:i})}catch(n){v(l(),"startNow",n,n.message)}},Y=function(n,t,e){t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent?t.attachEvent("on"+n,e):t[n]=e},X=function(){try{F.publish("appendedStart",{context:i,type:"animFrame"}),m(H)}catch(n){v(l(),"startAsap",n.message,n)}},V=function(n,t){x.push({name:n,callback:t})},J=function(){},q=function(){x.forEach(function(n){n.callback(i.getCanvas2dContext(),S,W())})},z=function(){u(o)&&a.clearTimeout(o)},Z=function(){A._STOPPED||m(function(){tn(q),A.ANIMATION_RUNNING_STATUS&&Z()})};F.subscribe("setAnimationProperties",function(n){B(n,S)}),F.subscribe("draw-callback-publish-reconfiguration",function(n){try{n.canvasCallbacks.forEach(function(n){x.push({name:n.name,callback:n.cb,priority:n.priority})}),x=x.slice().sort(function(n,t){return n.priority-t.priority})}catch(t){v(l(),"animationLoop",t.message,t)}}),F.subscribe("configuration-changed",function(n){x=[],F.publish("draw-callback-requested-reconfiguration",{})});var K=function(n){var t=n!=A.ANIMATION_RUNNING_STATUS;return t&&(0==A.ANIMATION_RUNNING_STATUS&&1==n,1==A.ANIMATION_RUNNING_STATUS&&0==n&&z(),A.ANIMATION_RUNNING_STATUS=n),t},W=function(){return P},$=function(){var n=!1;0==S.frameCounter&&F.publish("FIRST-FRAME",{});var t=C.now(),e=t-S.msLastFrameDrawn;if(e>S.msPerFrame){var a=e%S.msPerFrame;S.msLastFrameDrawn=t-a,n=!0}return n},nn=function(){if(!(S.animation_duration_inFrames<1)){var n=S.animation_duration_inFrames+S.waitframesBetweenTwoAnimations;S.currentLoopFrame=S.frameCounter%n;var t=0==S.currentLoopFrame,e=S.currentLoopFrame>=S.animation_duration_inFrames;t&&(S.isInAnimationTransition=!0,F.publish("drawing-triggered-animation-start",S)),e&&S.isInAnimationTransition&&(S.isInAnimationTransition=!1,F.publish("drawing-triggered-animation-end",S))}},tn=function(n){var t=$();t&&(S.frameCounter++,nn(),n())},en=function(n){return n(i.getCanvas2dContext())},an=function(){var n=17,t=2,e=1,a=W().canvasProperties,r=0;a.hasShadow&&(r=r+t+e),a.hasLabel&&(a.h=a.h+n),a.w=a.w+r,a.h=a.h+r},rn=function(n){B(n,W().canvasProperties),an()};F.subscribe("setCanvasProperties",rn,10);var on=function(){i.onCanvas2dContext(function(n){var t=W().canvasProperties;n.clearRect(0,0,t.w,t.h),t.hasShadow&&_()})};F.subscribe("clear-canvas-rectangle",on,10);var sn=function(n,t){W().hasShadow&&(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowBlur=0,n.shadowColor="transparent")},un=function(n,e){e.autoTriggerTextChange_onFrame!==t&&e.currentLoopFrame==e.autoTriggerTextChange_onFrame&&F.publish("drawing-change-text",{})},cn=function(n){F.publish("draw-callback-publish-reconfiguration",{canvasCallbacks:[{cb:sn,priority:14,name:"stopApplyingShadowOnCanvas"},{cb:un,priority:5,name:"autoUpdateText"}]})};F.subscribe("draw-callback-requested-reconfiguration",cn,15),i.__CODE_VERSION=n,i.getCanvasObject=W,i.getCanvas2dContext=function(){return W().canvas2dContext},i.onCanvas2dContext=en,i.getXYCanvas=function(){return{x:W().canvasProperties.xBase,y:W().canvasProperties.yBase}},i.addDrawCallback=V,i.getCanvasProperties=function(){return W().canvasProperties},i.setCanvasProperties=function(n){for(var t in n)n.hasOwnProperty(t)&&(P.canvasProperties[t]=n[t])},i.updateCanvasProperties=function(n){i.setCanvasProperties(n(W().canvasProperties))},i.getAnimationFrames=function(){return S.frameCounter},i.getAnimationControl=function(){return S},i.setAnimationControl=function(n){for(var t in n)n.hasOwnProperty(t)&&(S[t]=n[t])},i.start=X,i.changeRunningStatus=K,i.getRunningStatus=function(){return A.ANIMATION_RUNNING_STATUS},i.eventBus=F,i.getDebugMode=function(){return s.DEBUG_MODE},function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var e=n.statsText={},a={xBase:0,yBase:0},r=function(){return a},o=function(){var t=n.getXYCanvas();return a.xBase=t.x,a.yBase=t.y,a},i=[],s={stats_values:[],indexStatToShow:0,drawValueCallback:t,drawValueCallbackWithValue:t,drawMetricCallback:t},u=25,c=0,A=function(){return c%u==1},l=function(n){i=n};n.eventBus.subscribe("set-textbox-style",function(t){i=t,n.eventBus.publish("configuration-changed",{})}),n.eventBus.subscribe("canvas-drawValueFunction",function(n){"undefined"!=typeof n["transformationFunction"]&&(s.drawValueCallback=n["transformationFunction"])});function f(n,t,e,a){n=(n+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+n)?+n:0,o=isFinite(+t)?Math.abs(t):0,i="undefined"==typeof a?",":a,s="undefined"==typeof e?".":e,u="",c=function(n,t){var e=Math.pow(10,t);return""+(Math.round(n*e)/e).toFixed(t)};return u=(o?c(r,o):""+Math.round(r)).split("."),u[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(u[1]||"").length<o&&(u[1]=u[1]||"",u[1]+=new Array(o-u[1].length+1).join("0")),u.join(s)}var d=function(e){if(s.stats_values=e,s.drawValueCallback!=t){var a=e[0].value;s.drawValueCallbackWithValue=s.drawValueCallback(a)}n.eventBus.publish("configuration-changed",{})},g=function(){return s.stats_values},v=function(n){if(n===s.stats_values)return!1;if(typeof n==typeof[])for(var t in n)if(n.hasOwnProperty(t)&&typeof n[t]!=typeof{})return!1;return!0},h=function(){return n.globalObjectName+"_setValues"},w=function(){if(A()){var t=h();if("undefined"!=typeof n.$window&&"undefined"!=typeof n.$window[t]){var e=n.$window[t];v(e)&&d(e)}}},b=function(n){return(""+n).match(/^\s*[0-9]+\s*$/)?f(n,0,""," "):n},p=function(t,e){return function(a){a.shadowColor="transparent",a.font=t.name.font,a.textAlign=t.name.align,a.fillStyle=t.name.color,a.fillText(e.name,t.name.x+r().xBase,t.name.y+r().yBase),a.font=t.value.font,a.textAlign=t.value.align,a.fillStyle=t.value.color;var o=e.value;try{o=b(e.value)}catch(i){n.debug(i)}a.fillText(o,t.value.x+r().xBase,t.value.y+r().yBase)}},m=function(){s.indexStatToShow+=i.length,s.indexStatToShow>=s.stats_values.length&&(s.indexStatToShow=0)},C=!1;n.eventBus.subscribe("draw-hideText",function(n){C=!0},11),n.eventBus.subscribe("draw-unHideText",function(n){C=!1},11);var B=function(n){if(!C){var t,e,a=s.indexStatToShow,r=g(),o=r.length;r.length>i.length&&(o=i.length);for(var u=0;u<o&&(a>=r.length&&(a=0),r[a]);u++)t=i[u],e=r[a],p(t,e)(n),a++}},T=function(n,e){return c++,w(),o(),s.drawValueCallbackWithValue!=t?(s.drawValueCallbackWithValue(n),void 0):(B(n),void 0)},I=function(t){n.eventBus.publish("draw-callback-publish-reconfiguration",{canvasCallbacks:[{cb:T,priority:15,name:"show_stats_draw"}]})};n.eventBus.subscribe("draw-callback-requested-reconfiguration",I,11);var M=n.eventBus.subscribe("drawing-change-text",m,10);e.draw=T,e.setBoxes=l,e.setValues=d}.call(i),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var e={main:"",source:t,loaded:!1};e.main="data:image/png;base64,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";var a=function(t){var a=e.source=new Image;a.onload=function(){e.loaded=!0,n.eventBus.publish("background-image-loaded",e),n.eventBus.publish("configuration-changed",{})},a.src=e.main};n.eventBus.subscribe("FIRST-FRAME",a,5),n.image_base64_src=e}.call(i),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var e=n.counter={};e.ID="30",e.properties={w:120,h:74,hasShadow:!0};var a=!1,r={backgroundImageObject:t},o={animation_duration_inFrames:15,autoTriggerTextChange_onFrame:15,waitframesBetweenTwoAnimations:110},i=[{name:{x:60,y:25,align:"center",color:"#000",font:"11px Arial"},value:{x:60,y:45,align:"center",color:"#000000",font:"11px Arial"}}];n.eventBus.publish("set-textbox-style",i),n.eventBus.publish("setCanvasProperties",e.properties),n.eventBus.publish("setAnimationProperties",o);var s=function(n,t){t.frameCounter%2==0&&u(n)},u=function(t){var e=n.getXYCanvas(),a={x:28,y:32,radious:26},r=t.createRadialGradient(e.x+a.x,e.y+a.y,1,e.x+a.x,e.y+a.y,a.radious);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(.25,"rgba(255,255,255,0.75)"),r.addColorStop(.5,"rgba(255,255,255,0.9)"),r.addColorStop(.75,"rgba(255,255,255,0.7)"),r.addColorStop(1,"rgba(255,255,255,0)"),t.save(),t.scale(2.1,1),t.beginPath(),t.arc(e.x+a.x,e.y+a.y,a.radious,0,2*Math.PI,!1),t.fillStyle=r,t.fill(),t.restore()},c=function(t,e){n.eventBus.publish("clear-canvas-rectangle",{});var a=n.getXYCanvas();t.drawImage(r.backgroundImageObject.source,a.x,a.y)},A=function(e){r.backgroundImageObject!=t&&n.eventBus.publish("draw-callback-publish-reconfiguration",{canvasCallbacks:[{cb:c,priority:10,name:"drawBackground"},{cb:l,priority:14,name:"executeAnimationTransition"}]})},l=function(n,t){t.isInAnimationTransition?s(n,t):u(n)};return n.eventBus.subscribe("draw-callback-requested-reconfiguration",A,13),n.eventBus.subscribe("background-image-loaded",function(n){r.backgroundImageObject=n},13),n}.call(i),A.AUTOSTART&&i.start()}catch(An){}return i},w="base.js",b=window,p="_DEBUG_HISTATSCANVAS_RETURN_BUILDER";_value_RETURN_BUILDER=u(window[p])&&window[p]===!0,window[d()]=h,window["histats_canvascounters_"+w]=h}).call(this);